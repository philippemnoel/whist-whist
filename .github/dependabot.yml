# dependabot.yml
#
# Configuration file for Dependabot on the fractal/fractal monorepository.

# Note: Dependabot does not support globbing as the writing of this file. As
# a result, this configuration file is structured on a per-subrepo basis and
# dependency package manager files are provided explicitly.

version: 2

updates:
  ################### GitHub Actions ##################

  - package-ecosystem: "github-actions"
    directory: "/" # default location of `.github/workflows`
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  #####################################################
  ################ Client-Applications ################

  - package-ecosystem: "npm"
    directory: "/client-applications/desktop" # looks for package.json and [package-lock/yarn].lock file in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10
  
  - package-ecosystem: "npm"
    directory: "/client-applications/desktop/app" # looks for package.json and [package-lock/yarn].lock file in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  #####################################################
  ################## Container-Images #################

  - package-ecosystem: "docker"
    directory: "/container-images/base" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/browsers/brave" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/browsers/chrome" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/browsers/firefox" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10
    
  - package-ecosystem: "docker"
    directory: "/container-images/browsers/sidekick" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/creative/blender" # looks for Dockerfile in this directory
    schedule:
      interval: "daily" # runs on every weekday, Monday to Friday
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/creative/blockbench" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/creative/figma" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/creative/gimp" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/creative/godot" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/creative/lightworks" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/productivity/notion" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/container-images/productivity/slack" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  # Helper project for Figma on Linux
  - package-ecosystem: "npm"
    directory: "/container-images/creative/figma/figma-font-bindings" # looks for package.json and package-lock.json in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  # Helper project for Figma on Linux
  - package-ecosystem: "cargo"
    directory: "/container-images/creative/figma/figma-font-bindings/native" # looks for cargo.toml and cargo.lock in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  #####################################################
  ################## ECS-Host-Service #################

  - package-ecosystem: "gomod"
    directory: "/ecs-host-service" # looks for go.mod and go.sum in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  #####################################################
  ################### Main-Webserver ##################

  - package-ecosystem: "pip"
    directory: "/main-webserver" # looks for requirements.txt in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "pip"
    directory: "/main-webserver/analytics" # looks for requirements.txt in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  - package-ecosystem: "docker"
    directory: "/main-webserver/docker" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  #####################################################
  ###################### Protocol #####################

  - package-ecosystem: "docker"
    directory: "/protocol" # looks for Dockerfile in this directory
    schedule:
      interval: "monthly" # runs on the first day of each month
    open-pull-requests-limit: 10

  #####################################################
