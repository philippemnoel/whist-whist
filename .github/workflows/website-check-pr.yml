# workflows/website-linting.yml
#
# Website: Check PR
# Checks a website PR for linting and building success.

name: "Website: Check PR"

on:
  pull_request:
    paths:
      - "website/**"
      - "!website/README.md"
      - ".github/workflows/website-check-pr.yml"
      - "core-ts/**"
      - "!core-ts/README.md"
      - ".github/workflows/core-ts-check-pr.yml"
  workflow_dispatch:

jobs:
  # Linting
  # Checks for formatting using ESlint.
  website-linting-check-pr-linting:
    name: Linting
    runs-on: ubuntu-20.04

    env:
      CI: true
      NPM_TOKEN: ${{ secrets.GHA_PERSONAL_ACCESS_TOKEN }}

    steps:
      - name: Check out Git Repository
        uses: actions/checkout@v2

      - name: Install Node.js 16
        uses: actions/setup-node@v2.4.0
        with:
          node-version: "16"

      - name: Run yarn install
        working-directory: website
        run: yarn install

      - name: Check if code follows ESLint standards
        working-directory: website
        run: yarn run lint:check
